<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Complete step-by-step guide for OneComme OSC Router plugin - Setup, configuration, and usage instructions for VRChat, OBS, TouchDesigner integration">
    <meta name="keywords" content="OneComme, OSC, Router, Plugin, VRChat, OBS, TouchDesigner, Guide, Tutorial">
    <title>OneComme OSC Router - User Guide</title>
    <link rel="stylesheet" href="assets/style.css">
</head>
<body>
    <header>
        <div class="header-content">
            <h1>üéØ OneComme OSC Router - User Guide</h1>
            <p>Complete step-by-step guide for setup, configuration, and usage</p>
            <div class="header-links">
                <a href="https://github.com/noodledostuff/onecommeOSCrouter" target="_blank">üì¶ GitHub Repository</a>
                <a href="https://github.com/noodledostuff/onecommeOSCrouter/releases" target="_blank">‚¨áÔ∏è Download Latest Release</a>
                <a href="https://github.com/noodledostuff/onecommeOSCrouter/blob/main/README.md" target="_blank">üìñ README</a>
            </div>
        </div>
    </header>

    <nav>
        <div class="nav-content">
            <ul>
                <li><a href="#overview">Overview</a></li>
                <li><a href="#installation">Installation</a></li>
                <li><a href="#first-launch">First Launch</a></li>
                <li><a href="#web-interface">Web Interface</a></li>
                <li><a href="#creating-rules">Creating Rules</a></li>
                <li><a href="#vrchat-setup">VRChat Setup</a></li>
                <li><a href="#troubleshooting">Troubleshooting</a></li>
                <li><a href="#advanced">Advanced</a></li>
            </ul>
        </div>
    </nav>

    <main>
        <!-- Overview Section -->
        <section id="overview">
            <h2>üìã Overview</h2>
            <p>OneComme OSC Router is a powerful plugin that transforms chat messages from YouTube, Bilibili, and Niconico into OSC (Open Sound Control) data streams. This guide will walk you through every step of setup and usage.</p>
            
            <div class="info-box note">
                <strong>üìå Before You Begin</strong>
                <p>Make sure you have:</p>
                <ul>
                    <li><strong>OneComme</strong> installed and configured with your streaming platform accounts</li>
                    <li>An <strong>OSC-enabled application</strong> (VRChat, OBS, TouchDesigner, etc.)</li>
                    <li>Basic familiarity with OneComme's interface</li>
                </ul>
            </div>

            <h3>What You'll Learn</h3>
            <ul>
                <li>How to install and configure the plugin</li>
                <li>Navigating the web-based control panel</li>
                <li>Creating custom message routing rules</li>
                <li>Integrating with VRChat and other applications</li>
                <li>Troubleshooting common issues</li>
            </ul>
        </section>

        <!-- Installation Section -->
        <section id="installation">
            <h2>üì¶ Installation</h2>

            <div class="step-card">
                <div class="step-header">
                    <div class="step-number">1</div>
                    <div class="step-title">Download the Plugin</div>
                </div>
                <div class="step-content">
                    <p>Visit the <a href="https://github.com/noodledostuff/onecommeOSCrouter/releases" target="_blank">GitHub Releases page</a> and download the latest version (v0.8.0 or newer).</p>
                    
                    <div class="screenshot-placeholder">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z" />
                        </svg>
                        <p>Screenshot: GitHub Releases page showing download button</p>
                        <p class="caption">Add screenshot: releases_page.png</p>
                    </div>

                    <div class="info-box note">
                        <strong>üí° Tip:</strong>
                        Download the ZIP file (not the source code). The release includes all dependencies‚Äîno npm install required!
                    </div>
                </div>
            </div>

            <div class="step-card">
                <div class="step-header">
                    <div class="step-number">2</div>
                    <div class="step-title">Extract to OneComme Plugins Directory</div>
                </div>
                <div class="step-content">
                    <p>Extract the downloaded ZIP file to your OneComme plugins directory. The folder structure should look like this:</p>
                    
                    <pre><code>OneComme/
‚îî‚îÄ‚îÄ Plugins/
    ‚îî‚îÄ‚îÄ onecommeOSCrouter/
        ‚îú‚îÄ‚îÄ plugin.js
        ‚îú‚îÄ‚îÄ package.json
        ‚îú‚îÄ‚îÄ web-ui/
        ‚îú‚îÄ‚îÄ impl/
        ‚îú‚îÄ‚îÄ tests/
        ‚îî‚îÄ‚îÄ node_modules/</code></pre>

                    <div class="screenshot-placeholder">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z" />
                        </svg>
                        <p>Screenshot: File Explorer showing plugin folder in OneComme Plugins directory</p>
                        <p class="caption">Add screenshot: plugin_folder_structure.png</p>
                    </div>

                    <div class="info-box warning">
                        <strong>‚ö†Ô∏è Important:</strong>
                        The folder <strong>must</strong> be named <code>onecommeOSCrouter</code> (case-sensitive). OneComme will not detect it with a different name.
                    </div>
                </div>
            </div>

            <div class="step-card">
                <div class="step-header">
                    <div class="step-number">3</div>
                    <div class="step-title">Restart OneComme</div>
                </div>
                <div class="step-content">
                    <p>Close and restart OneComme completely to detect the new plugin. A simple refresh won't work‚Äîyou need a full restart.</p>
                    
                    <ol>
                        <li>Close OneComme (File ‚Üí Exit or Alt+F4)</li>
                        <li>Relaunch OneComme</li>
                        <li>Check the console for plugin load messages</li>
                    </ol>

                    <div class="screenshot-placeholder">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                        </svg>
                        <p>Screenshot: OneComme console showing successful plugin load message</p>
                        <p class="caption">Add screenshot: console_plugin_loaded.png</p>
                    </div>
                </div>
            </div>

            <div class="step-card">
                <div class="step-header">
                    <div class="step-number">4</div>
                    <div class="step-title">Enable the Plugin</div>
                </div>
                <div class="step-content">
                    <p>Navigate to OneComme's plugin settings and enable "OneComme OSC Router":</p>
                    
                    <ol>
                        <li>Open OneComme Settings</li>
                        <li>Go to the <strong>Plugins</strong> tab</li>
                        <li>Find <strong>OneComme OSC Router</strong> in the list</li>
                        <li>Check the enable checkbox</li>
                        <li>Click Apply/Save</li>
                    </ol>

                    <div class="screenshot-placeholder">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z" />
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                        </svg>
                        <p>Screenshot: OneComme plugin settings with OSC Router enabled</p>
                        <p class="caption">Add screenshot: enable_plugin.png</p>
                    </div>

                    <div class="info-box success">
                        <strong>‚úÖ Success!</strong>
                        If everything is configured correctly, you should see confirmation in the OneComme console that the plugin has started.
                    </div>
                </div>
            </div>
        </section>

        <!-- First Launch Section -->
        <section id="first-launch">
            <h2>üöÄ First Launch</h2>

            <div class="step-card">
                <div class="step-header">
                    <div class="step-number">5</div>
                    <div class="step-title">Access the Web Interface</div>
                </div>
                <div class="step-content">
                    <p>Once the plugin is enabled, open your web browser and navigate to:</p>
                    
                    <pre><code>http://localhost:19101</code></pre>

                    <p>You should see the OneComme OSC Router control panel.</p>

                    <div class="screenshot-placeholder">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
                        </svg>
                        <p>Screenshot: Web interface Overview tab on first load</p>
                        <p class="caption">Add screenshot: web_interface_overview.png</p>
                    </div>

                    <div class="info-box note">
                        <strong>üí° Bookmark This!</strong>
                        Save <code>http://localhost:19101</code> as a bookmark for easy access. The interface is accessible anytime OneComme is running with the plugin enabled.
                    </div>
                </div>
            </div>

            <div class="step-card">
                <div class="step-header">
                    <div class="step-number">6</div>
                    <div class="step-title">Verify Default Configuration</div>
                </div>
                <div class="step-content">
                    <p>The plugin comes with sensible defaults optimized for VRChat:</p>
                    
                    <table>
                        <thead>
                            <tr>
                                <th>Setting</th>
                                <th>Default Value</th>
                                <th>Description</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>OSC Host</td>
                                <td><code>127.0.0.1</code></td>
                                <td>Local machine (same computer)</td>
                            </tr>
                            <tr>
                                <td>OSC Port</td>
                                <td><code>19100</code></td>
                                <td>Standard VRChat OSC port</td>
                            </tr>
                            <tr>
                                <td>Web UI Port</td>
                                <td><code>19101</code></td>
                                <td>Control panel access</td>
                            </tr>
                            <tr>
                                <td>Message Format</td>
                                <td>Binary</td>
                                <td>Standard OSC format</td>
                            </tr>
                        </tbody>
                    </table>

                    <p>Click on the <strong>Settings</strong> tab to review and modify these if needed.</p>

                    <div class="screenshot-placeholder">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4" />
                        </svg>
                        <p>Screenshot: Settings tab showing default configuration</p>
                        <p class="caption">Add screenshot: settings_default.png</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Web Interface Section -->
        <section id="web-interface">
            <h2>üñ•Ô∏è Web Interface Tour</h2>
            <p>The web interface has four main tabs. Let's explore each one:</p>

            <h3>üìä Overview Tab</h3>
            <p>Your dashboard for real-time monitoring:</p>
            <ul>
                <li><strong>Message Statistics:</strong> Total messages processed, messages per platform</li>
                <li><strong>Connection Status:</strong> OneComme and OSC connection indicators</li>
                <li><strong>System Health:</strong> Plugin uptime and performance metrics</li>
                <li><strong>Quick Actions:</strong> Fast access to common settings</li>
            </ul>

            <div class="screenshot-placeholder">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" />
                </svg>
                <p>Screenshot: Overview tab with statistics and connection status</p>
                <p class="caption">Add screenshot: overview_tab_detailed.png</p>
            </div>

            <h3>üìú Rules Tab</h3>
            <p>Create and manage message routing rules:</p>
            <ul>
                <li><strong>Rule List:</strong> All your custom routing rules</li>
                <li><strong>Enable/Disable Toggle:</strong> Quick rule activation</li>
                <li><strong>Edit Button:</strong> Modify existing rules</li>
                <li><strong>Delete Button:</strong> Remove unwanted rules</li>
                <li><strong>Add New Rule:</strong> Create custom routing logic</li>
                <li><strong>Test Rule:</strong> Validate rules with sample messages</li>
            </ul>

            <div class="screenshot-placeholder">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01" />
                </svg>
                <p>Screenshot: Rules tab showing rule list and management options</p>
                <p class="caption">Add screenshot: rules_tab.png</p>
            </div>

            <h3>üìã Logs Tab</h3>
            <p>Monitor message flow in real-time:</p>
            <ul>
                <li><strong>Live Feed:</strong> Incoming and outgoing messages</li>
                <li><strong>Filter Options:</strong> Filter by platform, message type</li>
                <li><strong>Search:</strong> Find specific messages or users</li>
                <li><strong>Export:</strong> Download logs for debugging</li>
                <li><strong>Clear:</strong> Reset log history</li>
            </ul>

            <div class="screenshot-placeholder">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
                </svg>
                <p>Screenshot: Logs tab with message history and filtering</p>
                <p class="caption">Add screenshot: logs_tab.png</p>
            </div>

            <h3>‚öôÔ∏è Settings Tab</h3>
            <p>Configure plugin behavior:</p>
            <ul>
                <li><strong>OSC Output:</strong> Host, port, message format</li>
                <li><strong>Emoji Removal:</strong> Strip emoji from messages</li>
                <li><strong>Default Endpoints:</strong> Enable/disable platform-specific endpoints</li>
                <li><strong>Advanced:</strong> Connection settings, performance tuning</li>
                <li><strong>Backup/Restore:</strong> Export and import configuration</li>
            </ul>

            <div class="screenshot-placeholder">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z" />
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                </svg>
                <p>Screenshot: Settings tab with all configuration options</p>
                <p class="caption">Add screenshot: settings_tab_full.png</p>
            </div>
        </section>

        <!-- Creating Rules Section -->
        <section id="creating-rules">
            <h2>üé® Creating Custom Routing Rules</h2>
            <p>Routing rules allow you to send specific types of messages to different OSC endpoints. Let's create a rule step-by-step.</p>

            <div class="step-card">
                <div class="step-header">
                    <div class="step-number">7</div>
                    <div class="step-title">Open the Rule Builder</div>
                </div>
                <div class="step-content">
                    <ol>
                        <li>Click on the <strong>Rules</strong> tab</li>
                        <li>Click the <strong>"Add New Rule"</strong> button</li>
                        <li>The rule builder modal will appear</li>
                    </ol>

                    <div class="screenshot-placeholder">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" />
                        </svg>
                        <p>Screenshot: Rule builder modal (empty form)</p>
                        <p class="caption">Add screenshot: rule_builder_empty.png</p>
                    </div>
                </div>
            </div>

            <div class="step-card">
                <div class="step-header">
                    <div class="step-number">8</div>
                    <div class="step-title">Configure Basic Rule Info</div>
                </div>
                <div class="step-content">
                    <p>Fill in the basic information:</p>
                    
                    <ul>
                        <li><strong>Rule Name:</strong> Descriptive name (e.g., "High Value Super Chats")</li>
                        <li><strong>Description:</strong> What this rule does (optional but recommended)</li>
                        <li><strong>Endpoint:</strong> OSC address where messages will be sent (e.g., <code>/chat/superchats</code>)</li>
                        <li><strong>Enabled:</strong> Check to activate immediately</li>
                    </ul>

                    <div class="screenshot-placeholder">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" />
                        </svg>
                        <p>Screenshot: Rule builder with basic info filled in</p>
                        <p class="caption">Add screenshot: rule_builder_basic_info.png</p>
                    </div>
                </div>
            </div>

            <div class="step-card">
                <div class="step-header">
                    <div class="step-number">9</div>
                    <div class="step-title">Add Conditions</div>
                </div>
                <div class="step-content">
                    <p>Conditions determine which messages match this rule. Example: Route Super Chats over $20</p>
                    
                    <ol>
                        <li>Click <strong>"Add Condition Group"</strong></li>
                        <li>Select <strong>Platform:</strong> YouTube</li>
                        <li>Select <strong>Message Type:</strong> superchat</li>
                        <li>Click <strong>"Add Condition"</strong></li>
                        <li>Set:
                            <ul>
                                <li>Field: <code>amount</code></li>
                                <li>Operator: <code>greater_than</code></li>
                                <li>Value: <code>20</code></li>
                            </ul>
                        </li>
                    </ol>

                    <div class="screenshot-placeholder">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z" />
                        </svg>
                        <p>Screenshot: Rule builder with conditions configured</p>
                        <p class="caption">Add screenshot: rule_builder_conditions.png</p>
                    </div>

                    <div class="info-box note">
                        <strong>üí° Available Operators:</strong>
                        <ul>
                            <li><code>equals</code> - Exact match</li>
                            <li><code>not_equals</code> - Not equal</li>
                            <li><code>contains</code> - String contains</li>
                            <li><code>not_contains</code> - String doesn't contain</li>
                            <li><code>greater_than</code> / <code>less_than</code> - Numeric comparison</li>
                            <li><code>regex</code> - Regular expression match</li>
                            <li><code>exists</code> / <code>not_exists</code> - Field presence</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="step-card">
                <div class="step-header">
                    <div class="step-number">10</div>
                    <div class="step-title">Configure Field Mappings (Optional)</div>
                </div>
                <div class="step-content">
                    <p>Field mappings let you customize which data fields are included in the OSC message. If not specified, all fields are sent.</p>
                    
                    <p>Example mappings:</p>
                    <ul>
                        <li><code>username</code> ‚Üí <code>name</code></li>
                        <li><code>message_text</code> ‚Üí <code>comment</code></li>
                        <li><code>donation_amount</code> ‚Üí <code>amount</code></li>
                        <li><code>currency_code</code> ‚Üí <code>currency</code></li>
                    </ul>

                    <div class="screenshot-placeholder">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4" />
                        </svg>
                        <p>Screenshot: Rule builder with field mappings</p>
                        <p class="caption">Add screenshot: rule_builder_mappings.png</p>
                    </div>
                </div>
            </div>

            <div class="step-card">
                <div class="step-header">
                    <div class="step-number">11</div>
                    <div class="step-title">Test Your Rule</div>
                </div>
                <div class="step-content">
                    <p>Before saving, test your rule with sample data:</p>
                    
                    <ol>
                        <li>Click the <strong>"Test Rule"</strong> button</li>
                        <li>The test panel will show sample messages</li>
                        <li>See which messages would match your rule</li>
                        <li>Adjust conditions if needed</li>
                    </ol>

                    <div class="screenshot-placeholder">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                        </svg>
                        <p>Screenshot: Rule test results showing matched messages</p>
                        <p class="caption">Add screenshot: rule_test_results.png</p>
                    </div>
                </div>
            </div>

            <div class="step-card">
                <div class="step-header">
                    <div class="step-number">12</div>
                    <div class="step-title">Save and Activate</div>
                </div>
                <div class="step-content">
                    <p>Once you're satisfied with your rule:</p>
                    
                    <ol>
                        <li>Click <strong>"Save Rule"</strong></li>
                        <li>The rule appears in your rules list</li>
                        <li>Toggle the switch to enable/disable anytime</li>
                        <li>Rules are automatically saved to disk</li>
                    </ol>

                    <div class="info-box success">
                        <strong>‚úÖ Rule Active!</strong>
                        Your rule is now processing messages. Check the Logs tab to see it in action.
                    </div>

                    <div class="screenshot-placeholder">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2" />
                        </svg>
                        <p>Screenshot: Rules list showing newly created rule</p>
                        <p class="caption">Add screenshot: rule_saved_in_list.png</p>
                    </div>
                </div>
            </div>

            <h3>Example Rules</h3>
            <p>Here are some useful rule examples to get you started:</p>

            <table>
                <thead>
                    <tr>
                        <th>Rule Name</th>
                        <th>Purpose</th>
                        <th>Conditions</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>VIP Members Only</td>
                        <td>Route messages from channel members</td>
                        <td><code>is_member equals true</code></td>
                    </tr>
                    <tr>
                        <td>Bilibili Big Gifts</td>
                        <td>Highlight valuable Bilibili gifts</td>
                        <td><code>coins greater_than 100</code></td>
                    </tr>
                    <tr>
                        <td>Keyword Filter</td>
                        <td>Catch specific keywords</td>
                        <td><code>comment contains "VRChat"</code></td>
                    </tr>
                    <tr>
                        <td>Block Spam</td>
                        <td>Filter out spam messages</td>
                        <td><code>comment regex "\\b(spam|bot)\\b"</code> (NOT logic)</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <!-- VRChat Setup Section -->
        <section id="vrchat-setup">
            <h2>üéÆ VRChat Integration</h2>
            <p>The plugin is optimized for VRChat out of the box. Here's how to get chat messages displaying in-world:</p>

            <div class="info-box note">
                <strong>üìå Prerequisites:</strong>
                <ul>
                    <li>VRChat installed and running</li>
                    <li>Basic understanding of VRChat's OSC system</li>
                    <li>An avatar or world that can receive OSC messages</li>
                </ul>
            </div>

            <h3>Step 1: Enable VRChat OSC</h3>
            <p>In VRChat's Action Menu:</p>
            <ol>
                <li>Open <strong>Options</strong></li>
                <li>Go to <strong>OSC</strong> tab</li>
                <li>Enable <strong>OSC</strong></li>
                <li>Click <strong>Reset Config</strong> (if having issues)</li>
            </ol>

            <div class="screenshot-placeholder">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 10l-2 1m0 0l-2-1m2 1v2.5M20 7l-2 1m2-1l-2-1m2 1v2.5M14 4l-2-1-2 1M4 7l2-1M4 7l2 1M4 7v2.5M12 21l-2-1m2 1l2-1m-2 1v-2.5M6 18l-2-1v-2.5M18 18l2-1v-2.5" />
                </svg>
                <p>Screenshot: VRChat OSC settings menu</p>
                <p class="caption">Add screenshot: vrchat_osc_settings.png</p>
            </div>

            <h3>Step 2: Verify Connection</h3>
            <p>The plugin sends messages to port 19100 by default (VRChat's standard port). To verify:</p>
            
            <ol>
                <li>Start a stream with OneComme</li>
                <li>Have someone send a chat message</li>
                <li>Check the plugin's <strong>Logs tab</strong> for outgoing messages</li>
                <li>Look for <code>/onecomme/youtube/comment</code> (or similar) in the logs</li>
            </ol>

            <div class="screenshot-placeholder">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z" />
                </svg>
                <p>Screenshot: Logs showing messages being sent to VRChat</p>
                <p class="caption">Add screenshot: logs_vrchat_messages.png</p>
            </div>

            <h3>Step 3: Set Up Avatar/World Parameters</h3>
            <p>To display messages in VRChat, you'll need avatar parameters or world scripts that listen to OSC addresses.</p>

            <p><strong>Default OSC Endpoints:</strong></p>
            <ul>
                <li><code>/onecomme/youtube/comment</code> - YouTube comments</li>
                <li><code>/onecomme/youtube/superchat</code> - Super Chats</li>
                <li><code>/onecomme/bilibili/comment</code> - Bilibili comments</li>
                <li><code>/onecomme/bilibili/gift</code> - Bilibili gifts</li>
                <li><code>/onecomme/niconico/comment</code> - Niconico comments</li>
            </ul>

            <div class="info-box note">
                <strong>üí° Avatar Creators:</strong>
                Use Udon or avatar parameters to listen for these OSC addresses. The message data is sent as JSON in the OSC payload.
            </div>

            <h3>Troubleshooting VRChat Connection</h3>
            <p>If messages aren't appearing in VRChat:</p>
            <ul>
                <li>Verify VRChat OSC is enabled in settings</li>
                <li>Check firewall isn't blocking UDP port 19100</li>
                <li>Confirm OneComme is receiving chat messages</li>
                <li>Look at plugin logs to verify messages are being sent</li>
                <li>Try the <strong>Binary vs String</strong> format toggle in Settings</li>
                <li>Restart VRChat after making OSC changes</li>
            </ul>
        </section>

        <!-- Troubleshooting Section -->
        <section id="troubleshooting">
            <h2>üîß Troubleshooting</h2>

            <h3>Plugin Won't Load</h3>
            <div class="info-box warning">
                <strong>Symptoms:</strong> Plugin doesn't appear in OneComme's plugin list
                <p><strong>Solutions:</strong></p>
                <ul>
                    <li>Verify folder is named exactly <code>onecommeOSCrouter</code> (case-sensitive)</li>
                    <li>Check that <code>plugin.js</code> exists in the root of the plugin folder</li>
                    <li>Ensure <code>node_modules</code> folder exists (should be included in release)</li>
                    <li>Try a complete OneComme restart (not just refresh)</li>
                    <li>Check OneComme console for error messages</li>
                </ul>
            </div>

            <h3>Web Interface Won't Load</h3>
            <div class="info-box warning">
                <strong>Symptoms:</strong> <code>http://localhost:19101</code> shows "can't reach this page"
                <p><strong>Solutions:</strong></p>
                <ul>
                    <li>Verify plugin is enabled in OneComme settings</li>
                    <li>Check if another application is using port 19101</li>
                    <li>Try accessing from a different browser</li>
                    <li>Look for web server startup messages in OneComme console</li>
                    <li>Check Windows Firewall settings for blocked ports</li>
                </ul>
            </div>

            <h3>Messages Not Reaching Target Application</h3>
            <div class="info-box warning">
                <strong>Symptoms:</strong> Logs show messages sent, but target app doesn't receive them
                <p><strong>Solutions:</strong></p>
                <ul>
                    <li>Verify target application is listening on the correct port</li>
                    <li>Confirm OSC host/port in Settings matches target app</li>
                    <li>Try switching between Binary and String message format</li>
                    <li>Check firewall isn't blocking UDP traffic</li>
                    <li>Use <code>npm run monitor</code> to verify OSC messages are being sent</li>
                    <li>Restart target application after changing OSC settings</li>
                </ul>
            </div>

            <h3>Rules Not Triggering</h3>
            <div class="info-box warning">
                <strong>Symptoms:</strong> Created rules but messages aren't being routed
                <p><strong>Solutions:</strong></p>
                <ul>
                    <li>Verify rule is enabled (toggle switch is on)</li>
                    <li>Use the Rule Test feature to validate conditions</li>
                    <li>Check condition logic (AND vs OR)</li>
                    <li>Verify field names match incoming message structure</li>
                    <li>Simplify conditions to test (remove all but one condition)</li>
                    <li>Check Logs tab to see which rules are matching</li>
                </ul>
            </div>

            <h3>Getting Help</h3>
            <p>If you're still experiencing issues:</p>
            <ul>
                <li>Check the <a href="https://github.com/noodledostuff/onecommeOSCrouter/issues" target="_blank">GitHub Issues</a> page for similar problems</li>
                <li>Review the <a href="https://github.com/noodledostuff/onecommeOSCrouter/blob/main/README.md#-frequently-asked-questions-qa" target="_blank">Q&A section</a> in the README</li>
                <li>Run the test suite: <code>npm test</code> (from plugin directory)</li>
                <li>Open a new issue with:
                    <ul>
                        <li>OneComme version</li>
                        <li>Plugin version</li>
                        <li>Operating system</li>
                        <li>Console error messages</li>
                        <li>Steps to reproduce</li>
                    </ul>
                </li>
            </ul>
        </section>

        <!-- Advanced Section -->
        <section id="advanced">
            <h2>üöÄ Advanced Usage</h2>

            <h3>Testing OSC Messages</h3>
            <p>The plugin includes testing utilities in the <code>tests/</code> directory:</p>

            <pre><code># Run all tests
npm test

# Test configuration persistence
npm run test:config

# Test OSC reliability
npm run test:osc

# Test message formats
npm run test:formats

# Real-time OSC monitor
npm run monitor</code></pre>

            <h3>Configuration Files</h3>
            <p>Plugin settings are stored locally:</p>
            <ul>
                <li><code>config.json</code> - Main configuration (created automatically)</li>
                <li><code>routing-rules.json</code> - Your custom rules</li>
                <li><code>config.backup.json</code> - Auto-backup before changes</li>
            </ul>

            <div class="info-box note">
                <strong>üí° Pro Tip:</strong>
                You can directly edit <code>routing-rules.json</code> for batch rule creation, then reload in the web interface.
            </div>

            <h3>OSC Message Format</h3>
            <p>Messages are sent as JSON with this structure:</p>
            
            <pre><code>{
  "timestamp": "2024-09-20T08:30:01.123Z",
  "service": "youtube",
  "type": "superchat",
  "user": {
    "id": "UC1234567890",
    "name": "StreamerFan123",
    "display_name": "StreamerFan123"
  },
  "message": {
    "content": "Great stream!",
    "id": "msg_12345"
  },
  "platform_data": {
    "amount": "5.00",
    "currency": "USD",
    "is_member": true
  },
  "processing": {
    "rule_matched": "High Value Donations",
    "endpoint": "/alerts/bigdonation"
  }
}</code></pre>

            <h3>REST API</h3>
            <p>The plugin exposes a full REST API at <code>http://localhost:19101/api/*</code>:</p>

            <table>
                <thead>
                    <tr>
                        <th>Endpoint</th>
                        <th>Method</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>/api/rules</code></td>
                        <td>GET</td>
                        <td>List all rules</td>
                    </tr>
                    <tr>
                        <td><code>/api/rules</code></td>
                        <td>POST</td>
                        <td>Create new rule</td>
                    </tr>
                    <tr>
                        <td><code>/api/rules/:id</code></td>
                        <td>PUT</td>
                        <td>Update rule</td>
                    </tr>
                    <tr>
                        <td><code>/api/rules/:id</code></td>
                        <td>DELETE</td>
                        <td>Delete rule</td>
                    </tr>
                    <tr>
                        <td><code>/api/config/full</code></td>
                        <td>GET</td>
                        <td>Get configuration</td>
                    </tr>
                    <tr>
                        <td><code>/api/logs</code></td>
                        <td>GET</td>
                        <td>Get message logs</td>
                    </tr>
                    <tr>
                        <td><code>/api/status</code></td>
                        <td>GET</td>
                        <td>System status</td>
                    </tr>
                </tbody>
            </table>

            <h3>Performance Tips</h3>
            <ul>
                <li>Limit active rules to only what you need</li>
                <li>Use specific conditions to reduce processing</li>
                <li>Disable emoji removal if not needed (minor performance gain)</li>
                <li>Keep log retention reasonable (default: 100 messages)</li>
                <li>Monitor memory usage via Overview tab</li>
            </ul>
        </section>
    </main>

    <footer>
        <p><strong>OneComme OSC Router v0.8.0</strong></p>
        <p>Created by <a href="https://github.com/noodledostuff" target="_blank">noodledostuff</a> | Licensed under MIT</p>
        <p><a href="https://github.com/noodledostuff/onecommeOSCrouter" target="_blank">GitHub</a> | 
           <a href="https://github.com/noodledostuff/onecommeOSCrouter/issues" target="_blank">Report Issue</a> | 
           <a href="https://github.com/noodledostuff/onecommeOSCrouter/blob/main/README.md" target="_blank">Documentation</a></p>
    </footer>
</body>
</html>
